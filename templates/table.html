{% extends "layout.html" %}
{% block title %}Dashboard | AI Crime Predictor{% endblock %}

{% block content %}
<style>
    body {
        /* Light pastel background */
        color: #333;
        font-family: 'quicksand', sans-serif;
        text-transform: capitalize;
    }

    .chart-container {
        margin-top: 20px;
        padding: 20px;
        background-color: #fff8f5;
        /* light pastel card bg */
        border-radius: 10px;
        box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.05);
    }

    /* Table header with Bootstrap success color */
    #crimeTable thead th {
        background-color: #198754 !important;
        /* Bootstrap bg-success */
        color: #fff;
        font-weight: lighter;
        text-align: start !important;
    }

    /* Table content centered */
    #crimeTable tbody td {
        text-align: start !important;
        font-weight: normal;
    }

    table.dataTable tbody tr:nth-child(odd) {
        background-color: #f8f9fa;
        /* Light row color */
    }

    table.dataTable tbody tr:nth-child(even) {
        background-color: #ffffff;
        /* Alternate row color */
    }

    .alert-light-info {
        background-color: #d9edf7;
        /* Light info background */
        color: #0c5460;
        border-radius: 5px;
        padding: 10px;
    }
</style>
<div class="container">
    <nav aria-label="breadcrumb" class="mt-3">
        <ol class="breadcrumb bg-transparent  py-2 mb-2">
            <li class="breadcrumb-item">
                <a href="/" class="text-decoration-none text-success fw-semibold">HOME</a>
            </li>
            <li class="breadcrumb-item active text-dark fw-bold" aria-current="page">
                ML Summary & Insights
            </li>
        </ol>
    </nav>
    <h2 class="text-left text-uppercase fw-bold text-black">
        ML Summary / Insights
    </h2>
    <div class="alert-light-info mb-3 mt-3">{{ summary }}</div>

    <h5 class="text-capitlize fw-bold mb-3 mt-3 ">Crime Data Table</h5>
    <!-- Bootstrap responsive table wrapper -->
    <div class="table-responsive card p-4">
        <table class="table table-bordered table-striped align-middle text-center" id="crimeTable">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Type</th>
                    <th>Location</th>
                    <th>Date</th>
                    <th>Time</th>
                    <th>Reported By</th>
                    <th>Predicted Severity</th>
                    <th>Severity Score</th>
                    <th>Status</th>
                    <th>Notes</th>
                </tr>
            </thead>
            <tbody>
                {% for crime in crime_list %}
                <tr>
                    <td>{{ crime.id }}</td>
                    <td>{{ crime.type }}</td>
                    <td>{{ crime.location }}</td>
                    <td>{{ crime.date }}</td>
                    <td>{{ crime.time }}</td>
                    <td>{{ crime.reported_by }}</td>
                    <td>{{ crime.predicted_severity }}</td>
                    <td>{{ crime.severity_score }}</td>
                    <td>{{ crime.status }}</td>
                    <td>{{ crime.notes }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <a href="/" class="btn btn-success mt-3">Back to Dashboard</a>
</div>
{% endblock %}
{% block extra_js %}
<script>
    $(document).ready(function () {
        $('#crimeTable').DataTable();
    });
</script>
{% endblock %}